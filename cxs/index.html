<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="static/img/favicon.ico">
    <title>长相思</title>

    <script src="static/js/vue.global.js"></script>
    <script src="static/js/disabledeveloper.js"></script>
    <link type="text/css" rel="stylesheet" href="static/css/index.css" />
</head>

<body>
<div id="app">
    <div class="container">
        <img v-if="isTencentApp" src="static/img/yindao.png" alt="引导页面" class="responsive-image">
        <template v-else>
            <img src="static/img/banner.jpg" alt="Banner" class="responsive-image">

            <div class="text">
            <div v-for="(line, index) in textContent" :key="index">{{ line }}</div>
	    </div>
            <div v-for="(btn, index) in buttons" :key="index">
                <a :href="btn.url" class="btn" @click.prevent="btnClick(btn.id)">{{ btn.label }}</a>
            </div>

            <img src="static/img/footer.jpg" alt="Footer" class="responsive-image">
        </template>
    </div>
</div>

<script>
    const { createApp, ref } = Vue;
    const App = {
        setup() {
            const isTencentApp = ref(false);
            const ua = navigator.userAgent.toLowerCase();
            if (/micromessenger|qq\//.test(ua)) {
                isTencentApp.value = true;
            }

            const textContent = ref([
                "==================================================",
                "商务在线安装重要提示：如果您是第一次在本站在线安装APP，首次打开可能会闪退，按照下面《商务在线安装修复教程》修复闪退。一次修复，永久更新商务包。",
                "==================================================",
                "全网独家商务模式，一次下载永不掉签",
                "特别提醒：商务模式只能在斗战神官网商务兑换选项里兑换安装",
		        "不支持IOS15及以下系统，禁止安装！！！",
            ]);
            const buttons = ref([
                { id: 2, label: '长相思视频教程', url: 'https://video-material-tencos.lingtuo.cn/team/video/89785850/16zabg/seq/1718622804.368287.mp4' },
                { id: 4, label: 'TF安装第一步', url: 'https://apps.apple.com/cn/app/testflight/id899247664' },
                { id: 5, label: 'TF安装第二步', url: 'https://down.githvb.lol/#/redeem/aaa' },
                // { id: 6, label: '商务兑换教程', url: 'https://video-material-tencos.lingtuo.cn/team/video/89785850/16zabg/seq/1717221010.791429.mp4' },
                { id: 7, label: 'TF安装教程', url: 'https://video-material-tencos.lingtuo.cn/team/video/89785850/16zabg/seq/1717220878.102551.mp4' },
               // { id: 8, label: '邀请码查询', url: 'check/index.html' },
            ]);

            function btnClick(buttonId) {
                // 此处可以加入你希望在跳转之前执行的其他逻辑
                // alert(`按钮${buttonId}被点击`);
                // 使用window.location来重定向到指定的URL
                const button = buttons.value.find(btn => btn.id === buttonId);
                if (button && button.url) {
                    window.location.href = button.url;
                }
            }
            return {
                isTencentApp,
                textContent,
                buttons,
                btnClick
            };
        }
    };
    createApp(App).mount('#app');
</script>
</body>
</html>
