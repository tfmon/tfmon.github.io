<!DOCTYPE html>
<html style="font-size: 50px;">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--<link rel="stylesheet" href="css/index.css">-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>天魔星</title>
    <meta name="robots" content="index,follow">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <!--<link rel="stylesheet" href="css/amazeui.min.css">-->
    <link rel="shortcut icon" href="/static/tmx/website/static/favicon.ico">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link href="css/sweetalert.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/mh_style.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/iconfont.css">

	<link rel="stylesheet" href="css/loading.css">
	<script src="js/loading.js"></script>

    <script src="js/jquery.min.js"></script>
    <!--<script src="js/sweetalert.min.js"></script>-->
    <!--<script src="js/swiper.min.js"></script>-->
</head>
<body>
<div id="weixin-tip-box">
    <div class="weixin-tip">
        <img src="img/guide.png" alt="微信打开" style="width: 100%; height: 800px;">
    </div>
    <div class="triangle_border_up"></div>
</div>
<div class="warp" id="all">
    <div id="content-wrapper" class="container">
        <div class="container text-center" style="line-height:30px;"></div>
        <div class="container">
            <div class="grid-6 text-center">
                <!--<div>
                    <img src="/static/tmx/website/static/resources/天魔星/banner.jpg" class="box8">
                </div>-->
                
                <div class="lb2 gonggao">
					<div class="gg_cont">
🔸<font color="#fff">TF“无法载入app”的解决方法:</font>
  <a target="_blank" href="https://nim-nosdn.netease.im/MTExNTUxNzE=/bmltYV8zMzY4NzE2MzU4NV8xNjUwNDU5NjE3MjE3XzE2ZmU4ODU1LTFlZGUtNDhmYS04MDZiLTYyZDg1NjU3ZmZiMw==?createTime=1650459629439"><font color="#00FF00">→点击查看←</font></a><br>
          <!--🔸VX隐藏好友(摇一摇隐藏好友)<br>
          🔸屏蔽密友通话视频(自动拦截屏蔽)<br>
          🔸全球伪装定位(全球随意行解放双脚)<br>
          🔸多选密友/群聊(上不封顶随心所欲)<br>
		  🔸隐藏朋友圈可见图标<br>
		  🔸密码输入解锁(搜索框触发密码秒解锁)<br>
		  🔸划出后台自动上锁(切换桌面自动.上锁密友/群聊)<br>
		  🔸界面无其他logo与官方无异(心安理得)<br>-->
         <font color="blue">🔸稳定,防封,流畅,节能!不封号,不掉签,不卡顿！</font><br>
         <font color="blue">🔸安装界面的过期时间与用户无关,请放心激活使用！</font><br>
         <font color="blue">🔸请使用苹果自带浏览器（safari）打开官网</font><br>
         <font color="#00FF00">🔸5月25号凌晨已修复小部分用户手机发烫/崩溃问题</font><br>
         <font color="#00FF00">🔸全网独家领先更新8.0.49版本，不弹验证，不闪退，稳定流畅，售后无忧</font><br>
         <font color="#00FF00">🔸注：如遇个别设备打不开官网的用户，代理可帮用户提取兑换码下载</font><br>
	</div>				</div>

                <!--<div>
                    <a target="_blank" href="http://xajie.gitee.io/ry1" class="btn btn-primary btn-lg">使用教程</a>
                </div>-->
                <div>
                    <a data-src="https://apps.apple.com/cn/app/testflight/id899247664"
                       class="btn btn-primary btn-lg download">步骤① →【安装TestFlight】</a>
                </div>
                <!--<div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_tmx1" > 输入下载码，下载并激活（天魔星1）</a>
                </div>
                <div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_tmx1" >步骤②  →【安装 天魔星 1】</a>
                </div>-->
                <!--<div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_tmx1" >步骤②  →【安装 天魔星】</a>
                </div>-->
                <div>
                    <a target="_blank" href="/dh_tmx.html" class="btn btn-primary btn-lg">步骤②  →【安装 天魔星】</a>
                </div>
                <!--<div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_chaxun_tmx" >下载码查询</a>
                </div>-->
                <div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_piliang_chaxun_tmx" >下载码批量查询</a>
                </div>
                <div>
                    <a href="javascript:void(0);"  class="btn btn-primary btn-lg" id="_zsjh_tmx" >如遇不能激活 请获取专属码</a>
                </div>
                <!--<div>
                    <a target="_blank" href="https://mparticle.uc.cn/video.html?uc_param_str=frdnsnpfvecpntnwprdssskt&wm_id=ef415e5bb56440cb8c6e6680b67fbaaa&wm_aid=fb6d7a7250cf48dda354d92629b5da9d" class="btn btn-primary btn-lg">下载码批量查询</a>
                </div>

                <div>
                    <a target="_blank" href="http://172.87.28.178/dl/cx/" class="btn btn-primary btn-lg">分身兑换入口-下载码需另外购买</a>
                </div>-->

                <!--<div>
                    <a target="_blank" href="#" class="btn btn-primary btn-lg">【天魔星4.0】</a>
                </div>-->

                <div>
                    <img src="/static/tmx/website/static/resources/天魔星/footer.png" class="box8">
                </div>
                <div class="sa-icon sa-error" style="display: none;">
						<span class="sa-x-mark">
							<span class="sa-line sa-left"></span>
							<span class="sa-line sa-right"></span>
						</span>
                </div>
                <div class="sa-icon sa-warning" style="display: none;">
                    <span class="sa-body"></span>
                    <span class="sa-dot"></span>
                </div>
                <div class="sa-icon sa-info" style="display: none;"></div>
                <div class="sa-icon sa-success animate" style="display: block;">
                    <span class="sa-line sa-tip animateSuccessTip"></span>
                    <span class="sa-line sa-long animateSuccessLong"></span>
                    <div class="sa-placeholder"></div>
                    <div class="sa-fix"></div>
                </div>
                <div class="sa-icon sa-custom" style="display: none;"></div>
                <div class="la-ball-fall">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div id="course" style="display: none;">
                <div class="close iconfont icon-guanbi"></div>
                <div class="swiper-container gallery-top swiper-container-initialized swiper-container-horizontal">
                    <div class="swiper-wrapper">
                         <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/1.jpg'); width: 400px; margin-right: 10px;"></div> <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/2.png'); width: 400px; margin-right: 10px;"></div> <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/3.jpg'); width: 400px; margin-right: 10px;"></div> <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/4.jpg'); width: 400px; margin-right: 10px;"></div> <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/5.jpg'); width: 400px; margin-right: 10px;"></div> <div class="swiper-slide"
                             style="background-image: url('//static/tmx/website/static/resources/天魔星/jiaocheng/6.jpg'); width: 400px; margin-right: 10px;"></div>                   </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next swiper-button-disabled" tabindex="0" role="button"
                         aria-label="Next slide" aria-disabled="true"></div>
                    <div class="swiper-button-prev" tabindex="0" role="button" aria-label="Previous slide"
                         aria-disabled="false"></div>
                    <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
            </div>
            <div class="mask" style="display: none;"></div>
            <div id="imgMask"></div>
        </div>
    </div>
</div>

<script src="js/index.js"></script>

<script type="text/javascript">

    $("#_tmx21").click(function () {
        alert("暂无链接");
    })


    $("#_tmx11").click(function () {
        alert("暂无链接");
    })


    $("#_chaxun_tmx").click(function () {

        var codee = prompt("请输入下载码!","");
        if(!codee){
            alert("请输入下载码!");
            return;               
        }
        else if(codee){
            $.post('/index/testflight/chaxun_tmx',{
                codee : codee,
            },function (data) {
                if(data.code == 0) {
                    alert(data.data);
                    return;
                }
                if(data.code == 1) {
                    alert(data.data);
                    return;
                }
                if(data.code == 2) {
                    alert(data.data);
                    return;
                }
                if(data.code == 3) {
                    alert(data.data);
                    return;
                }
                if(data.code == 4) {
                    alert(data.data);
                    return;
                }
                if(data.code == 5) {
                    alert(data.data);
                    return;
                }
            },'json')
        }
    })

    $("#_piliang_chaxun_tmx").click(function () {

        var url = '/index/testflight/piliang_chaxun_tmx?xiazaimas=';
        var codee = prompt("请输入下载码!","");
        if(!codee){
            alert("请输入下载码!");
            return;               
        }
        else if(codee){
            window.open(url + codee, '查询结果:', 'scrollbars=yes,menubar=no,alwaysRaised=yes,location=no,width=200,height=600,left=200,top=200');
        }
    })


    $("#_zsjh_tmx").click(function () {

        var codee = prompt("请输入下载码!","");
        if(!codee){
            alert("请输入下载码!");
            return;               
        }
        else if(codee){
            $.post('/index/testflight/zsjh_tmx',{
                codee : codee,
            },function (data) {
                if(data.code == 0) {
                    alert(data.data);
                    return;
                }
                if(data.code == 1) {
                    window.location.href = data.data;
                    return;
                }
                if(data.code == 2) {
                    alert(data.data);
                    return;
                }
                if(data.code == 3) {
                    alert(data.data);
                    return;
                }
                if(data.code == 4) {
                    alert(data.data);
                    return;
                }
                if(data.code == 5) {
                    alert(data.data);
                    return;
                }
            },'json')
        }
    })


    $("#_tmx1").click(function () {

//            if(!(/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent))){
//                alert("请使用苹果自带浏览器safari安装!");
//                return; 
//            }

            var codee = prompt("兑换成功后请120秒内点击安装!链接充足,正常下载!","");
            if(!codee){
                alert("请输入下载码!");
                return;               
            }
            else if(codee){
                $.post('/index/testflight/getcodee_tmx',{
                    codee : codee,
                },function (data) {
                    if(data.code != 1) {
                        alert("下载码不存在");
                        return;
                    }
                    else{
                        var cookieString = document.cookie;
                        const cookieName = "tester";
                        var start = cookieString.indexOf(cookieName + '=');
                        const len = 8;
                        var chars ='23456789ABCDEFGHJKLMNPQRSTUVWtmx';
                        var maxPos = chars.length;
                        var character = '';
                        for (var i = 0; i < len; i++) {
                            character += chars.charAt(Math.floor(Math.random() * maxPos))
                        }
                        var characters = character;
                        if (start == -1) {
                            var expires = new Date();
                            expires.setTime(expires.getTime() + 12 * 30 * 24 * 60 * 60 * 1000);
                            document.cookie = cookieName + '=' + characters + ';expires=' + expires.toGMTString();
                            var localData = localStorage.startUrl;
                            if(localData) {
                                localData = JSON.parse(localData);
                            }
                            if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                window.location.href = localData.openHref;
                                return;
                            }
                            loading.showLoading({
                                type:1,
                                tip:"正在准备链接,请等待..."
                            });
                            $.post('/index/testflight/GetRealIP',function (data) {
                                if (data.code == 99){
                                    $.post('/index/testflight/getAddress_tmx1',{
                                        code : 'tmx1',
                                        codee : codee,
                                        uuids : characters,
                                        uuid : 'user',
                                        ip: data.ip,
                                    },function (data) {
                                        if(data.code == 21) {
                                            loading.showLoading({
                                                type:4,
                                                tip:data.datas
                                            });
                                        }
                                        if(data.code == 2) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"目前安装高峰,请30分钟后再试!"
                                            });
                                        }
                                        if(data.code == 3) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"指定APP安装频率太高,稍等一会再试!"
                                            });
                                        }
                                        if(data.code == 4) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码不存在!"
                                            });
                                        }
                                        if(data.code == 5) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码还未发放,请联系销售员!"
                                            });
                                        }
                                        if(data.code == 6) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码已被使用!"
                                            });
                                        }
                                        if(data.code == 7) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"App不存在或者已下架!"
                                            });
                                        }
                                        if(data.code == 8) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"禁止重复安装!"
                                            });
                                        }
                                        if(data.code == 9) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"你的安装太频繁了，1分钟后再试!"
                                            });
                                        }
                                        if(data.code == 10) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"您的安装次数超限!"
                                            });
                                        }
                                        if(data.code == 11) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"应用已失效,请刷新页面重新点击安装!"
                                            });
                                        }
                                        if(data.code == 12) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"此下载码已被其他设备兑换!"
                                            });
                                        }
                                        if(data.code == 13) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"安装完成,请勿重复安装!"
                                            });
                                        }
                                        if(data.code == 14) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"禁止无痕模式下安装!"
                                            });
                                        }
                                        if(!data || data.code != 1) {
                                            return;
                                        }
                                        localStorage.startUrl = JSON.stringify({
                                            getedTime : new Date(),
                                            openHref : data.data,
                                        });
                                        window.location.href = data.data;
                                        loading.showLoading({
                                            type:5,
                                            tip:"安装完成,请勿重复安装!"
                                        });
                                    },'json');
                                }
                            },'json');
                        }else{
                            if (cookieString){
                                cookies = cookieString.substr(cookieString.lastIndexOf('tester=')+7,8);
                                if (cookies.length < 8) {
                                    var expires = new Date();
                                    expires.setTime(expires.getTime() + 12 * 30 * 24 * 60 * 60 * 1000);
                                    document.cookie = cookieName + '=' + characters + ';expires=' + expires.toGMTString();
                                    var localData = localStorage.startUrl;
                                    if(localData) {
                                        localData = JSON.parse(localData);
                                    }
                                    if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                        window.location.href = localData.openHref;
                                        return;
                                    }
                                    loading.showLoading({
                                        type:1,
                                        tip:"正在准备链接,请等待..."
                                    });
                                    $.post('/index/testflight/GetRealIP',function (data) {
                                        if (data.code == 99){
                                            $.post('/index/testflight/getAddress_tmx1',{
                                                code : 'tmx1',
                                                codee : codee,
                                                uuids : characters,
                                                uuid : 'user',
                                                ip: data.ip,
                                            },function (data) {
                                                if(data.code == 21) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:data.datas
                                                    });
                                                }
                                                if(data.code == 2) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"目前安装高峰,请30分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 3) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"指定APP安装频率太高,稍等一会再试!"
                                                    });
                                                }
                                                if(data.code == 4) {
                                                   loading.showLoading({
                                                        type:4,
                                                        tip:"下载码不存在!"
                                                    });
                                                }
                                                if(data.code == 5) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码还未发放,请联系销售员!"
                                                    });
                                                }
                                                if(data.code == 6) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码已被使用!"
                                                    });
                                                }
                                                if(data.code == 7) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"App不存在或者已下架!"
                                                    });
                                                }
                                                if(data.code == 8) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止重复安装!"
                                                    });
                                                }
                                                if(data.code == 9) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"你的安装太频繁了，1分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 10) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"您的安装次数超限!"
                                                    });
                                                }
                                                if(data.code == 11) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"应用已失效,请刷新页面重新点击安装!"
                                                    });
                                                }
                                                if(data.code == 12) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"此下载码已被其他设备兑换!"
                                                    });
                                                }
                                                if(data.code == 13) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"安装完成,请勿重复安装!"
                                                    });
                                                }
                                                if(data.code == 14) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止无痕模式下安装!"
                                                    });
                                                }
                                                if(!data || data.code != 1) {
                                                    return;
                                                }
                                                localStorage.startUrl = JSON.stringify({
                                                    getedTime : new Date(),
                                                    openHref : data.data,
                                                });
                                                window.location.href = data.data;
                                                loading.showLoading({
                                                    type:5,
                                                    tip:"安装完成,请勿重复安装!"
                                                });
                                            },'json');
                                        }
                                    },'json');
                                }else {
                                    var localData = localStorage.startUrl;
                                    if(localData) {
                                        localData = JSON.parse(localData);
                                    }
                                    if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                        window.location.href = localData.openHref;
                                        return;
                                    }
                                    loading.showLoading({
                                        type:1,
                                        tip:"正在准备链接,请等待..."
                                    });
                                    $.post('/index/testflight/GetRealIP',function (data) {
                                        if (data.code == 99){
                                            $.post('/index/testflight/getAddress_tmx1',{
                                                code : 'tmx1',
                                                codee : codee,
                                                uuids : characters,
                                                uuid : cookies,
                                                ip: data.ip,
                                            },function (data) {
                                                if(data.code == 21) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:data.datas
                                                    });
                                                }
                                                if(data.code == 2) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"目前安装高峰,请30分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 3) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"指定APP安装频率太高,稍等一会再试!"
                                                   });
                                                }
                                                if(data.code == 4) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码不存在!"
                                                    });
                                                }
                                                if(data.code == 5) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码还未发放,请联系销售员!"
                                                    });
                                                }
                                                if(data.code == 6) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码已被使用!"
                                                    });
                                                }
                                                if(data.code == 7) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"App不存在或者已下架!"
                                                    });
                                                }
                                                if(data.code == 8) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止重复安装!"
                                                    });
                                                }
                                                if(data.code == 9) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"你的安装太频繁了，1分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 10) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"您的安装次数超限!"
                                                    });
                                                }
                                                if(data.code == 11) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"应用已失效,请刷新页面重新点击安装!"
                                                    });
                                                }
                                                if(data.code == 12) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"此下载码已被其他设备兑换!"
                                                    });
                                                }
                                                if(data.code == 13) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"安装完成,请勿重复安装!"
                                                    });
                                                }
                                                if(data.code == 14) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止无痕模式下安装!"
                                                    });
                                                }
                                                if(!data || data.code != 1) {
                                                    return;
                                                }
                                                localStorage.startUrl = JSON.stringify({
                                                    getedTime : new Date(),
                                                    openHref : data.data,
                                                });
                                                window.location.href = data.data;
                                                loading.showLoading({
                                                    type:5,
                                                    tip:"安装完成,请勿重复安装!"
                                                });
                                            },'json');
                                        }
                                    },'json');
                                }
                            }
                        }
                    }
                },'json');
            }
    })


    $("#_tmx2").click(function () {

            if(!(/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent))){
                alert("请使用苹果自带浏览器safari安装!");
                return; 
            }
            var codee = prompt("兑换成功后请120秒内点击安装!链接充足,正常下载!","");
            if(!codee){
                alert("请输入下载码!");
                return;               
            }
            else if(codee){
                $.post('/index/testflight/getcodee_tmx',{
                    codee : codee,
                },function (data) {
                    if(data.code != 1) {
                        alert("下载码不存在");
                        return;
                    }
                    else{
                        var cookieString = document.cookie;
                        const cookieName = "tester";
                        var start = cookieString.indexOf(cookieName + '=');
                        const len = 8;
                        var chars ='23456789ABCDEFGHJKLMNPQRSTUVWtmx';
                        var maxPos = chars.length;
                        var character = '';
                        for (var i = 0; i < len; i++) {
                            character += chars.charAt(Math.floor(Math.random() * maxPos))
                        }
                        var characters = character;
                        if (start == -1) {
                            var expires = new Date();
                            expires.setTime(expires.getTime() + 12 * 30 * 24 * 60 * 60 * 1000);
                            document.cookie = cookieName + '=' + characters + ';expires=' + expires.toGMTString();
                            var localData = localStorage.startUrl;
                            if(localData) {
                                localData = JSON.parse(localData);
                            }
                            if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                window.location.href = localData.openHref;
                                return;
                            }
                            loading.showLoading({
                                type:1,
                                tip:"正在准备链接,请等待..."
                            });
                            $.post('/index/testflight/GetRealIP',function (data) {
                                if (data.code == 99){
                                    $.post('/index/testflight/getAddress_tmx2',{
                                        code : 'tmx1',
                                        codee : codee,
                                        uuids : characters,
                                        uuid : 'user',
                                        ip: data.ip,
                                    },function (data) {
                                        if(data.code == 21) {
                                            loading.showLoading({
                                                type:4,
                                                tip:data.datas
                                            });
                                        }
                                        if(data.code == 2) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"目前安装高峰,请30分钟后再试!"
                                            });
                                        }
                                        if(data.code == 3) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"指定APP安装频率太高,稍等一会再试!"
                                            });
                                        }
                                        if(data.code == 4) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码不存在!"
                                            });
                                        }
                                        if(data.code == 5) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码还未发放,请联系销售员!"
                                            });
                                        }
                                        if(data.code == 6) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"下载码已被使用!"
                                            });
                                        }
                                        if(data.code == 7) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"App不存在或者已下架!"
                                            });
                                        }
                                        if(data.code == 8) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"禁止重复安装!"
                                            });
                                        }
                                        if(data.code == 9) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"你的安装太频繁了，1分钟后再试!"
                                            });
                                        }
                                        if(data.code == 10) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"您的安装次数超限!"
                                            });
                                        }
                                        if(data.code == 11) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"应用已失效,请刷新页面重新点击安装!"
                                            });
                                        }
                                        if(data.code == 12) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"此下载码已被其他设备兑换!"
                                            });
                                        }
                                        if(data.code == 13) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"安装完成,请勿重复安装!"
                                            });
                                        }
                                        if(data.code == 14) {
                                            loading.showLoading({
                                                type:4,
                                                tip:"禁止无痕模式下安装!"
                                            });
                                        }
                                        if(!data || data.code != 1) {
                                            return;
                                        }
                                        localStorage.startUrl = JSON.stringify({
                                            getedTime : new Date(),
                                            openHref : data.data,
                                        });
                                        window.location.href = data.data;
                                        loading.showLoading({
                                            type:5,
                                            tip:"安装完成,请勿重复安装!"
                                        });
                                    },'json');
                                }
                            },'json');
                        }else{
                            if (cookieString){
                                cookies = cookieString.substr(cookieString.lastIndexOf('tester=')+7,8);
                                if (cookies.length < 8) {
                                    var expires = new Date();
                                    expires.setTime(expires.getTime() + 12 * 30 * 24 * 60 * 60 * 1000);
                                    document.cookie = cookieName + '=' + characters + ';expires=' + expires.toGMTString();
                                    var localData = localStorage.startUrl;
                                    if(localData) {
                                        localData = JSON.parse(localData);
                                    }
                                    if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                        window.location.href = localData.openHref;
                                        return;
                                    }
                                    loading.showLoading({
                                        type:1,
                                        tip:"正在准备链接,请等待..."
                                    });
                                    $.post('/index/testflight/GetRealIP',function (data) {
                                        if (data.code == 99){
                                            $.post('/index/testflight/getAddress_tmx2',{
                                                code : 'tmx1',
                                                codee : codee,
                                                uuids : characters,
                                                uuid : 'user',
                                                ip: data.ip,
                                            },function (data) {
                                                if(data.code == 21) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:data.datas
                                                    });
                                                }
                                                if(data.code == 2) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"目前安装高峰,请30分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 3) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"指定APP安装频率太高,稍等一会再试!"
                                                    });
                                                }
                                                if(data.code == 4) {
                                                   loading.showLoading({
                                                        type:4,
                                                        tip:"下载码不存在!"
                                                    });
                                                }
                                                if(data.code == 5) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码还未发放,请联系销售员!"
                                                    });
                                                }
                                                if(data.code == 6) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码已被使用!"
                                                    });
                                                }
                                                if(data.code == 7) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"App不存在或者已下架!"
                                                    });
                                                }
                                                if(data.code == 8) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止重复安装!"
                                                    });
                                                }
                                                if(data.code == 9) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"你的安装太频繁了，1分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 10) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"您的安装次数超限!"
                                                    });
                                                }
                                                if(data.code == 11) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"应用已失效,请刷新页面重新点击安装!"
                                                    });
                                                }
                                                if(data.code == 12) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"此下载码已被其他设备兑换!"
                                                    });
                                                }
                                                if(data.code == 13) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"安装完成,请勿重复安装!"
                                                    });
                                                }
                                                if(data.code == 14) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止无痕模式下安装!"
                                                    });
                                                }
                                                if(!data || data.code != 1) {
                                                    return;
                                                }
                                                localStorage.startUrl = JSON.stringify({
                                                    getedTime : new Date(),
                                                    openHref : data.data,
                                                });
                                                window.location.href = data.data;
                                                loading.showLoading({
                                                    type:5,
                                                    tip:"安装完成,请勿重复安装!"
                                                });
                                            },'json');
                                        }
                                    },'json');
                                }else {
                                    var localData = localStorage.startUrl;
                                    if(localData) {
                                        localData = JSON.parse(localData);
                                    }
                                    if(localData && localData.openHref && localData.getedTime && (new Date()) - localData.getedTime < 1000*60*10) {
                                        window.location.href = localData.openHref;
                                        return;
                                    }
                                    loading.showLoading({
                                        type:1,
                                        tip:"正在准备链接,请等待..."
                                    });
                                    $.post('/index/testflight/GetRealIP',function (data) {
                                        if (data.code == 99){
                                            $.post('/index/testflight/getAddress_tmx2',{
                                                code : 'tmx1',
                                                codee : codee,
                                                uuids : characters,
                                                uuid : cookies,
                                                ip: data.ip,
                                            },function (data) {
                                                if(data.code == 21) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:data.datas
                                                    });
                                                }
                                                if(data.code == 2) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"目前安装高峰,请30分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 3) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"指定APP安装频率太高,稍等一会再试!"
                                                   });
                                                }
                                                if(data.code == 4) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码不存在!"
                                                    });
                                                }
                                                if(data.code == 5) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码还未发放,请联系销售员!"
                                                    });
                                                }
                                                if(data.code == 6) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"下载码已被使用!"
                                                    });
                                                }
                                                if(data.code == 7) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"App不存在或者已下架!"
                                                    });
                                                }
                                                if(data.code == 8) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止重复安装!"
                                                    });
                                                }
                                                if(data.code == 9) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"你的安装太频繁了，1分钟后再试!"
                                                    });
                                                }
                                                if(data.code == 10) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"您的安装次数超限!"
                                                    });
                                                }
                                                if(data.code == 11) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"应用已失效,请刷新页面重新点击安装!"
                                                    });
                                                }
                                                if(data.code == 12) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"此下载码已被其他设备兑换!"
                                                    });
                                                }
                                                if(data.code == 13) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"安装完成,请勿重复安装!"
                                                    });
                                                }
                                                if(data.code == 14) {
                                                    loading.showLoading({
                                                        type:4,
                                                        tip:"禁止无痕模式下安装!"
                                                    });
                                                }
                                                if(!data || data.code != 1) {
                                                    return;
                                                }
                                                localStorage.startUrl = JSON.stringify({
                                                    getedTime : new Date(),
                                                    openHref : data.data,
                                                });
                                                window.location.href = data.data;
                                                loading.showLoading({
                                                    type:5,
                                                    tip:"安装完成,请勿重复安装!"
                                                });
                                            },'json');
                                        }
                                    },'json');
                                }
                            }
                        }
                    }
                },'json');
            }
    })


    </script>

</body>
</html>